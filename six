six modfied
modified from github
